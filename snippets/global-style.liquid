{%- liquid
  assign body_font_bold = settings.type_body_font | font_modify: 'weight', 'bold'
  assign body_font_italic = settings.type_body_font | font_modify: 'style', 'italic'
  assign body_font_bold_italic = body_font_bold | font_modify: 'style', 'italic'

  assign check_heading_desktop_step = settings.heading_size_desktop | minus: 10 | divided_by: settings.heading_size_step
  if check_heading_desktop_step < 3
    assign heading_size_s = settings.heading_size_desktop | minus: settings.heading_size_step
    if heading_size_s > 10
      assign heading_size_step_desktop_s = settings.heading_size_step
    else
      assign heading_size_step_desktop_s = settings.heading_size_desktop | minus: 10 | divided_by: 3
    endif

    assign check_heading_size_step_xs = settings.heading_size_step | times: 2
    assign heading_size_xs = settings.heading_size_desktop | minus: check_heading_size_step_xs
    if heading_size_xs > 10
      assign heading_size_step_desktop_xs = settings.heading_size_step
    else
      assign heading_size_step_desktop_xs = settings.heading_size_desktop | minus: 10 | divided_by: 3
    endif

    assign check_heading_size_step_xxs = settings.heading_size_step | times: 3
    assign heading_size_xxs = settings.heading_size_desktop | minus: check_heading_size_step_xxs
    if heading_size_xxs > 10
      assign heading_size_step_desktop_xxs = settings.heading_size_step
    else
      assign heading_size_step_desktop_xxs = settings.heading_size_desktop | minus: 10 | divided_by: 3
    endif
  else
    assign heading_size_step_desktop_xxs = settings.heading_size_step
    assign heading_size_step_desktop_xs = settings.heading_size_step
    assign heading_size_step_desktop_s = settings.heading_size_step
  endif

  assign check_heading_tablet_step = settings.heading_size_tablet | minus: 10 | divided_by: settings.heading_size_step
  if check_heading_tablet_step < 3
    assign heading_size_s = settings.heading_size_tablet | minus: settings.heading_size_step
    if heading_size_s > 10
      assign heading_size_step_tablet_s = settings.heading_size_step
    else
      assign heading_size_step_tablet_s = settings.heading_size_tablet | minus: 10 | divided_by: 3
    endif

    assign check_heading_size_step_xs = settings.heading_size_step | times: 2
    assign heading_size_xs = settings.heading_size_tablet | minus: check_heading_size_step_xs
    if heading_size_xs > 10
      assign heading_size_step_tablet_xs = settings.heading_size_step
    else
      assign heading_size_step_tablet_xs = settings.heading_size_tablet | minus: 10 | divided_by: 3
    endif

    assign check_heading_size_step_xxs = settings.heading_size_step | times: 3
    assign heading_size_xxs = settings.heading_size_tablet | minus: check_heading_size_step_xxs
    if heading_size_xxs > 10
      assign heading_size_step_tablet_xxs = settings.heading_size_step
    else
      assign heading_size_step_tablet_xxs = settings.heading_size_tablet | minus: 10 | divided_by: 3
    endif
  else
    assign heading_size_step_tablet_xxs = settings.heading_size_step
    assign heading_size_step_tablet_xs = settings.heading_size_step
    assign heading_size_step_tablet_s = settings.heading_size_step
  endif

  assign check_heading_mobile_step = settings.heading_size_mobile | minus: 10 | divided_by: settings.heading_size_step
  if check_heading_mobile_step < 3
    assign heading_size_s = settings.heading_size_mobile | minus: settings.heading_size_step
    if heading_size_s > 10
      assign heading_size_step_mobile_s = settings.heading_size_step
    else
      assign heading_size_step_mobile_s = settings.heading_size_mobile | minus: 10 | divided_by: 3
    endif

    assign check_heading_size_step_xs = settings.heading_size_step | times: 2
    assign heading_size_xs = settings.heading_size_mobile | minus: check_heading_size_step_xs
    if heading_size_xs > 10
      assign heading_size_step_mobile_xs = settings.heading_size_step
    else
      assign heading_size_step_mobile_xs = settings.heading_size_mobile | minus: 10 | divided_by: 3
    endif

    assign check_heading_size_step_xxs = settings.heading_size_step | times: 3
    assign heading_size_xxs = settings.heading_size_mobile | minus: check_heading_size_step_xxs
    if heading_size_xxs > 10
      assign heading_size_step_mobile_xxs = settings.heading_size_step
    else
      assign heading_size_step_mobile_xxs = settings.heading_size_mobile | minus: 10 | divided_by: 3
    endif
  else
    assign heading_size_step_mobile_xxs = settings.heading_size_step
    assign heading_size_step_mobile_xs = settings.heading_size_step
    assign heading_size_step_mobile_s = settings.heading_size_step
  endif


  assign check_body_desktop_step = settings.body_size_desktop | minus: 10 | divided_by: settings.body_size_step
  if check_body_desktop_step < 3
    assign body_size_s = settings.body_size_desktop | minus: settings.body_size_step
    if body_size_s > 10
      assign body_size_step_desktop_s = settings.body_size_step
    else
      assign body_size_step_desktop_s = settings.body_size_desktop | minus: 10 | divided_by: 3
    endif

    assign check_body_size_step_xs = settings.body_size_step | times: 2
    assign body_size_xs = settings.body_size_desktop | minus: check_body_size_step_xs
    if body_size_xs > 10
      assign body_size_step_desktop_xs = settings.body_size_step
    else
      assign body_size_step_desktop_xs = settings.body_size_desktop | minus: 10 | divided_by: 3
    endif

    assign check_body_size_step_xxs = settings.body_size_step | times: 3
    assign body_size_xxs = settings.body_size_desktop | minus: check_body_size_step_xxs
    if body_size_xxs > 10
      assign body_size_step_desktop_xxs = settings.body_size_step
    else
      assign body_size_step_desktop_xxs = settings.body_size_desktop | minus: 10 | divided_by: 3
    endif
  else
    assign body_size_step_desktop_s = settings.body_size_step
    assign body_size_step_desktop_xs = settings.body_size_step
    assign body_size_step_desktop_xxs = settings.body_size_step
  endif

  assign check_body_tablet_step = settings.body_size_tablet | minus: 10 | divided_by: settings.body_size_step
  if check_body_tablet_step < 3
    assign body_size_s = settings.body_size_tablet | minus: settings.body_size_step
    if body_size_s > 10
      assign body_size_step_tablet_s = settings.body_size_step
    else
      assign body_size_step_tablet_s = settings.body_size_tablet | minus: 5 | divided_by: 3
    endif

    assign check_body_size_step_xs = settings.body_size_step | times: 2
    assign body_size_xs = settings.body_size_tablet | minus: check_body_size_step_xs
    if body_size_xs > 10
      assign body_size_step_tablet_xs = settings.body_size_step
    else
      assign body_size_step_tablet_xs = settings.body_size_tablet | minus: 5 | divided_by: 3
    endif

    assign check_body_size_step_xxs = settings.body_size_step | times: 3
    assign body_size_xxs = settings.body_size_tablet | minus: check_body_size_step_xxs
    if body_size_xxs > 10
      assign body_size_step_tablet_xxs = settings.body_size_step
    else
      assign body_size_step_tablet_xxs = settings.body_size_tablet | minus: 5 | divided_by: 3
    endif
  else
    assign body_size_step_tablet_s = settings.body_size_step
    assign body_size_step_tablet_xs = settings.body_size_step
    assign body_size_step_tablet_xxs = settings.body_size_step
  endif

  assign check_body_mobile_step = settings.body_size_mobile | minus: 10 | divided_by: settings.body_size_step
  if check_body_mobile_step < 3
    assign body_size_s = settings.body_size_mobile | minus: settings.body_size_step
    if body_size_s > 10
      assign body_size_step_mobile_s = settings.body_size_step
    else
      assign body_size_step_mobile_s = settings.body_size_mobile | minus: 5 | divided_by: 3
    endif

    assign check_body_size_step_xs = settings.body_size_step | times: 2
    assign body_size_xs = settings.body_size_mobile | minus: check_body_size_step_xs
    if body_size_xs > 10
      assign body_size_step_mobile_xs = settings.body_size_step
    else
      assign body_size_step_mobile_xs = settings.body_size_mobile | minus: 5 | divided_by: 3
    endif

    assign check_body_size_step_xxs = settings.body_size_step | times: 3
    assign body_size_xxs = settings.body_size_mobile | minus: check_body_size_step_xxs
    if body_size_xxs > 10
      assign body_size_step_mobile_xxs = settings.body_size_step
    else
      assign body_size_step_mobile_xxs = settings.body_size_mobile | minus: 5 | divided_by: 3
    endif
  else
    assign body_size_step_mobile_s = settings.body_size_step
    assign body_size_step_mobile_xs = settings.body_size_step
    assign body_size_step_mobile_xxs = settings.body_size_step
  endif

%}
{%- unless settings.type_body_font.system? -%}
  <link rel="preload" as="font" href="{{ settings.type_body_font | font_url }}" type="font/woff2" crossorigin>
{%- endunless -%}
{%- unless settings.type_header_font.system? -%}
  <link rel="preload" as="font" href="{{ settings.type_header_font | font_url }}" type="font/woff2" crossorigin>
{%- endunless -%}

{% style %}
  {{- settings.type_body_font | font_face: font_display: 'swap' -}}
  {{- settings.type_header_font | font_face: font_display: 'swap' -}}
  {{- body_font_bold | font_face: font_display: 'swap' -}}
  {{- body_font_italic | font_face: font_display: 'swap' -}}
  {{- body_font_bold_italic | font_face: font_display: 'swap' -}}

  {% for scheme in settings.color_schemes -%}
    {% assign scheme_classes = scheme_classes | append: ', .color-' | append: scheme.id %}
    {% if forloop.index == 1 -%}
      :root,
    {%- endif %}
    .color-{{ scheme.id }} {
      --color-foreground: {{ scheme.settings.text.red }},{{ scheme.settings.text.green }},{{ scheme.settings.text.blue }};
      --color-link: {{ scheme.settings.text_link.red }},{{ scheme.settings.text_link.green }},{{ scheme.settings.text_link.blue }};
      --color-link-hover: {{ scheme.settings.text_link_hover.red }},{{ scheme.settings.text_link_hover.green }},{{ scheme.settings.text_link_hover.blue }};
      --color-background: {{ scheme.settings.background.red }},{{ scheme.settings.background.green }},{{ scheme.settings.background.blue }};
      --gradient-background: {% if scheme.settings.background_gradient != empty %}{{ scheme.settings.background_gradient }}{% else %}{{ scheme.settings.background }}{% endif %};
      {% if scheme.settings.background_gradient != empty %}--header-gradient-background: {{ scheme.settings.background_gradient }}{% endif %};

      --color-button-text: {{ scheme.settings.button_label.red }},{{ scheme.settings.button_label.green }},{{ scheme.settings.button_label.blue }};
      --color-button: {{ scheme.settings.button_background.red }},{{ scheme.settings.button_background.green }},{{ scheme.settings.button_background.blue }};
      --color-secondary-button-text: {{ scheme.settings.secondary_button_label.red }},{{ scheme.settings.secondary_button_label.green }},{{ scheme.settings.secondary_button_label.blue }};
      --color-secondary-button: {{ scheme.settings.background.red }},{{ scheme.settings.background.green }},{{ scheme.settings.background.blue }};

      --color-badge-foreground: {{ scheme.settings.text.red }},{{ scheme.settings.text.green }},{{ scheme.settings.text.blue }};
      --color-badge-background: {{ scheme.settings.background.red }},{{ scheme.settings.background.green }},{{ scheme.settings.background.blue }};
      --color-badge-border: {{ scheme.settings.text.red }},{{ scheme.settings.text.green }},{{ scheme.settings.text.blue }};
      --payment-terms-background-color: rgb({{ scheme.settings.background.rgb }});

      --global-color-foreground: {{ scheme.settings.text.red }},{{ scheme.settings.text.green }},{{ scheme.settings.text.blue }};
      --global-color-background: {{ scheme.settings.background.red }},{{ scheme.settings.background.green }},{{ scheme.settings.background.blue }};
      --global-gradient-background: {% if scheme.settings.background_gradient != empty %}{{ scheme.settings.background_gradient }}{% else %}{{ scheme.settings.background }}{% endif %};

      --button-color-text: {{ scheme.settings.button_label.red }},{{ scheme.settings.button_label.green }},{{ scheme.settings.button_label.blue }};
      --button-color-background: {{ scheme.settings.button_background.red }},{{ scheme.settings.button_background.green }},{{ scheme.settings.button_background.blue }};
      {% if scheme.settings.button_gradient != empty or scheme.settings.button_background == 'rgba(0,0,0,0)' %}
        --button-gradient-background: {% if scheme.settings.button_gradient != empty %}{{ scheme.settings.button_gradient }}{% else %}{{ scheme.settings.button_background }}{% endif %};
      {% endif %}
      --button-color-text-2: {{ scheme.settings.secondary_button_label.red }},{{ scheme.settings.secondary_button_label.green }},{{ scheme.settings.secondary_button_label.blue }};
      --button-color-background-2: {{ scheme.settings.secondary_button_background.red }},{{ scheme.settings.secondary_button_background.green }},{{ scheme.settings.secondary_button_background.blue }};
      {% if scheme.settings.secondary_button_gradient != empty or scheme.settings.secondary_button_background == 'rgba(0,0,0,0)' %}
        --button-gradient-background-2: {% if scheme.settings.secondary_button_gradient != empty %}{{ scheme.settings.secondary_button_gradient }}{% else %}{{ scheme.settings.secondary_button_background }}{% endif %};
      {% endif %}

      --arrow-color: {{ scheme.settings.arrow.red }},{{ scheme.settings.arrow.green }},{{ scheme.settings.arrow.blue }};
      --arrow-color-background: {{ scheme.settings.arrow_background.red }},{{ scheme.settings.arrow_background.green }},{{ scheme.settings.arrow_background.blue }};
      --arrow-gradient-background: {% if scheme.settings.arrow_gradient != blank %}{{ scheme.settings.arrow_gradient }}{% else %}{{ scheme.settings.arrow_background }}{% endif %};
      --arrow-color-2: {{ scheme.settings.secondary_arrow.red }},{{ scheme.settings.secondary_arrow.green }},{{ scheme.settings.secondary_arrow.blue }};
      --arrow-color-background-2: {{ scheme.settings.secondary_arrow_background.red }},{{ scheme.settings.secondary_arrow_background.green }},{{ scheme.settings.secondary_arrow_background.blue }};
      --arrow-gradient-background-2: {% if scheme.settings.secondary_arrow_gradient != blank %}{{ scheme.settings.secondary_arrow_gradient }}{% else %}{{ scheme.settings.secondary_arrow_background }}{% endif %};
      --color-shadow: {% if scheme.settings.shadow == blank or scheme.settings.shadow == 'rgba(0,0,0,0)' %}{{ scheme.settings.shadow }}{% else %}{{ scheme.settings.shadow.red }},{{ scheme.settings.shadow.green }},{{ scheme.settings.shadow.blue }}{% endif %};
    }
  {% endfor %}

  {{ scheme_classes | prepend: 'body' }} {
    color: rgba(var(--color-foreground), 1);
    background: rgba(var(--color-background), 1);
    background: var(--gradient-background);
  }

  :root {
    --duration-short: 100ms;
    --duration-default: 300ms;
    --duration-medium: 200ms;
    --duration-long: 500ms;
    --duration-extra-long: 600ms;
    --duration-slow: 800ms;
    --duration-extended: 3s;
    --cubic: cubic-bezier(0.61, 0.22, 0.23, 1);
    --cubic-out: cubic-bezier(0.5, 1, 0.89, 1);
    --ease-out-slow: cubic-bezier(0, 0, 0.3, 1);
    --cubic-fade: cubic-bezier(0.7, 0, 0.2, 1);

    /**
     * ---------------------------------------------------------------------------
     * General
    */
    --link-letter-spacing: {{ settings.link_letter_spacing | divided_by: 100.0 }}em;
    --u-link-color: {% if settings.link_color_type == 'adapt-color' %}currentColor{% else %}{{ settings.custom_color_link }}{% endif %};
    --block-rounded: {{ settings.rounding_block | divided_by: 10.0 }}rem;


    /**
     * ---------------------------------------------------------------------------
     * COLORS
    */

    /* Cart bubble */
    --cart-color-text: {{ settings.cart_colors_text.red }}, {{ settings.cart_colors_text.green }}, {{ settings.cart_colors_text.blue }};
    --cart-color-background: {{ settings.cart_colors_background.red }}, {{ settings.cart_colors_background.green }}, {{ settings.cart_colors_background.blue }};
    --cart-gradient-background: {% if settings.cart_gradient_background != blank %}{{ settings.cart_gradient_background }}{% else %}{{ settings.cart_colors_background }}{% endif %};

    /* Price */
    --color-default-price: {{ settings.colors_default_price.red }}, {{ settings.colors_default_price.green }}, {{ settings.colors_default_price.blue }};
    --color-sale-price: {{ settings.colors_sale_price.red }}, {{ settings.colors_sale_price.green }}, {{ settings.colors_sale_price.blue }};

    /* Rating */
    --colors-rating: {{ settings.colors_rating.red }}, {{ settings.colors_rating.green }}, {{ settings.colors_rating.blue }};

    /* Badges */
    --new-badge-color-text: {{ settings.new_badge_colors_text.red }}, {{ settings.new_badge_colors_text.green }}, {{ settings.new_badge_colors_text.blue }};
    --new-badge-color-background: {{ settings.new_badge_colors_background }};
    --sale-badge-color-text: {{ settings.sale_badge_colors_text.red }}, {{ settings.sale_badge_colors_text.green }}, {{ settings.sale_badge_colors_text.blue }};
    --sale-badge-color-background: {{ settings.sale_badge_colors_background }};
    --sold-out-badge-color-text: {{ settings.sold_out_badge_colors_text.red }}, {{ settings.sold_out_badge_colors_text.green }}, {{ settings.sold_out_badge_colors_text.blue }};
    --sold-out-badge-color-background: {{ settings.sold_out_badge_colors_background }};

    /* Social media */
    --social-media-color-text: {{ settings.social_media_colors_text.red }}, {{ settings.social_media_colors_text.green }}, {{ settings.social_media_colors_text.blue }};
    --social-media-color-background: {{ settings.social_media_colors_background.red }}, {{ settings.social_media_colors_background.green }}, {{ settings.social_media_colors_background.blue }};
    --social-media-gradient-background: {% if settings.social_media_gradient_background != blank %}{{ settings.social_media_gradient_background }}{% else %}{{ settings.social_media_colors_background }}{% endif %};


    /**
     * ---------------------------------------------------------------------------
     * TYPOGRAPHY
    */
    --font-heading-family: {{ settings.type_header_font.family }}, {{ settings.type_header_font.fallback_families }};
    --font-heading-style: {{ settings.type_header_font.style }};
    --font-heading-weight: {{ settings.type_header_font.weight }};
    --font-heading-scale: 1.0;
    --heading-letter-spacing: {{ settings.heading_letter_spacing | divided_by: 100.0 }}em;
    --font-body-family: {{ settings.type_body_font.family }}, {{ settings.type_body_font.fallback_families }};
    --font-body-style: {{ settings.type_body_font.style }};
    --font-body-weight: {{ settings.type_body_font.weight }};
    --font-body-weight-bold: {{ settings.type_body_font.weight | plus: 300 | at_most: 1000 }};
    --font-body-scale: 1.0;

    --font-heading-step-desktop-xxs: {{ heading_size_step_desktop_xxs | divided_by: 10.0 | append: 'rem' }};
    --font-heading-step-desktop-xs: {{ heading_size_step_desktop_xs | divided_by: 10.0 | append: 'rem' }};
    --font-heading-step-desktop-s: {{ heading_size_step_desktop_s | divided_by: 10.0 | append: 'rem' }};
    --font-heading-step-tablet-xxs: {{ heading_size_step_tablet_xxs | divided_by: 10.0 | append: 'rem' }};
    --font-heading-step-tablet-xs: {{ heading_size_step_tablet_xs | divided_by: 10.0 | append: 'rem' }};
    --font-heading-step-tablet-s: {{ heading_size_step_tablet_s | divided_by: 10.0 | append: 'rem' }};
    --font-heading-step-mobile-xxs: {{ heading_size_step_mobile_xxs | divided_by: 10.0 | append: 'rem' }};
    --font-heading-step-mobile-xs: {{ heading_size_step_mobile_xs | divided_by: 10.0 | append: 'rem' }};
    --font-heading-step-mobile-s: {{ heading_size_step_mobile_s | divided_by: 10.0 | append: 'rem' }};
    --font-heading-step: {{ settings.heading_size_step | divided_by: 10.0 | append: 'rem' }};
    --font-heading-desktop: {{ settings.heading_size_desktop | divided_by: 10.0 | append: 'rem' }};
    --font-heading-tablet: {{ settings.heading_size_tablet | divided_by: 10.0 | append: 'rem' }};
    --font-heading-mobile: {{ settings.heading_size_mobile | divided_by: 10.0 | append: 'rem' }};

    --font-heading-step-desktop: var(--font-heading-step-desktop-s);
    --font-heading-step-tablet: var(--font-heading-step-tablet-s);
    --font-heading-step-mobile: var(--font-heading-step-mobile-s);
    --font-heading-size: var(--font-heading-mobile);

    --font-body-step-desktop-xxs: {{ body_size_step_desktop_xxs | divided_by: 10.0 | append: 'rem' }};
    --font-body-step-desktop-xs: {{ body_size_step_desktop_xs | divided_by: 10.0 | append: 'rem' }};
    --font-body-step-desktop-s: {{ body_size_step_desktop_s | divided_by: 10.0 | append: 'rem' }};
    --font-body-step-tablet-xxs: {{ body_size_step_tablet_xxs | divided_by: 10.0 | append: 'rem' }};
    --font-body-step-tablet-xs: {{ body_size_step_tablet_xs | divided_by: 10.0 | append: 'rem' }};
    --font-body-step-tablet-s: {{ body_size_step_tablet_s | divided_by: 10.0 | append: 'rem' }};
    --font-body-step-mobile-xxs: {{ body_size_step_mobile_xxs | divided_by: 10.0 | append: 'rem' }};
    --font-body-step-mobile-xs: {{ body_size_step_mobile_xs | divided_by: 10.0 | append: 'rem' }};
    --font-body-step-mobile-s: {{ body_size_step_mobile_s | divided_by: 10.0 | append: 'rem' }};
    --font-body-step: {{ settings.body_size_step | divided_by: 10.0 | append: 'rem' }};
    --font-body-desktop: {{ settings.body_size_desktop | divided_by: 10.0 | append: 'rem' }};
    --font-body-tablet: {{ settings.body_size_tablet | divided_by: 10.0 | append: 'rem' }};
    --font-body-mobile: {{ settings.body_size_mobile | divided_by: 10.0 | append: 'rem' }};

    --font-body-step-desktop: var(--font-body-step-desktop-s);
    --font-body-step-tablet: var(--font-body-step-tablet-s);
    --font-body-step-mobile: var(--font-body-step-mobile-s);
    --font-body-size: var(--font-body-mobile);
    --price-font-size: calc(var(--font-body-size) + 0.2rem);


    /**
     * ---------------------------------------------------------------------------
     * MULTIPLE LAYOUTS
    */
    --page-width: {% if settings.layout_width == 'page-width' %}{{ settings.page_width | divided_by: 10 }}rem{% else %}100%{% endif %};
    --grid-v-md: {{ settings.spacing_grid_vertical }}px;
    --grid-h-md-u: {{ settings.spacing_grid_horizontal }}px;
    --grid-v-xs: {{ settings.spacing_grid_vertical | divided_by: 2 }}px;
    --grid-h-xs-u: {{ settings.spacing_grid_horizontal | divided_by: 2 }}px;


    /**
     * ---------------------------------------------------------------------------
     * BUTTONS
    */
    --buttons-font-size: {{ settings.buttons_font_size }}px;
    --buttons-font-weight: {% if settings.buttons_font_weight == 'normal' %}400{% elsif settings.buttons_font_weight == 'semibold' %}600{% else %}700{% endif %};
    --buttons-font-style: {{ settings.buttons_font_style }};

    /* Border */
    --buttons-radius: {{ settings.buttons_radius }}px;
    --buttons-radius-outset: {% if settings.buttons_radius > 0 %}{{ settings.buttons_radius | plus: settings.buttons_border_thickness }}{% else %}0{% endif %}px;
    --buttons-border-width: {% if settings.buttons_border_opacity > 0 %}{{ settings.buttons_border_thickness }}{% else %}0{% endif %}px;
    --buttons-border-opacity: {{ settings.buttons_border_opacity | divided_by: 100.0 }};

    /* Shadow */
    --buttons-shadow-opacity: {{ settings.buttons_shadow_opacity | divided_by: 100.0 }};
    --buttons-shadow-horizontal-offset: {{ settings.buttons_shadow_horizontal_offset }}px;
    --buttons-shadow-vertical-offset: {{ settings.buttons_shadow_vertical_offset }}px;
    --buttons-shadow-blur-radius: {{ settings.buttons_shadow_blur }}px;


    /**
     * ---------------------------------------------------------------------------
     * VARIANT PILLS
    */

    /* Border */
    --variant-pills-border-width: {{ settings.variant_pills_border_thickness }}px;
    --variant-pills-border-opacity: {{ settings.variant_pills_border_opacity | divided_by: 100.0 }};
    --variant-pills-radius: {{ settings.variant_pills_radius }}px;

    /* Shadow */
    --variant-pills-shadow-opacity: {{ settings.variant_pills_shadow_opacity | divided_by: 100.0 }};
    --variant-pills-shadow-horizontal-offset: {{ settings.variant_pills_shadow_horizontal_offset }}px;
    --variant-pills-shadow-vertical-offset: {{ settings.variant_pills_shadow_vertical_offset }}px;
    --variant-pills-shadow-blur-radius: {{ settings.variant_pills_shadow_blur }}px;


    /**
     * ---------------------------------------------------------------------------
     * INPUTS
    */

    /* Border */
    --inputs-border-width: {{ settings.inputs_border_thickness }}px;
    --inputs-border-opacity: {{ settings.inputs_border_opacity | divided_by: 100.0 }};
    --inputs-radius: {{ settings.inputs_radius }}px;
    --inputs-radius-outset: {% if settings.inputs_radius > 0 %}{{ settings.inputs_radius | plus: settings.inputs_border_thickness }}{% else %}0{% endif %}px;

    /* Shadow */
    --inputs-shadow-opacity: {{ settings.inputs_shadow_opacity | divided_by: 100.0 }};
    --inputs-shadow-horizontal-offset: {{ settings.inputs_shadow_horizontal_offset }}px;
    --inputs-shadow-vertical-offset: {{ settings.inputs_shadow_vertical_offset }}px;
    --inputs-margin-offset: {% if settings.inputs_shadow_vertical_offset != 0 and settings.inputs_shadow_opacity > 0 %}{{ settings.inputs_shadow_vertical_offset | abs }}{% else %}0{% endif %}px;
    --inputs-shadow-blur-radius: {{ settings.inputs_shadow_blur }}px;


    /**
     * ---------------------------------------------------------------------------
     * PRODUCT CARDS
    */
    --card-image-height: {{ settings.card_image_height }}%;
    --card-image-fit: {{ settings.card_image_fit }};

    /* Badge */
    --badge-font-size: {{ settings.badge_font_size }}px;

    /**
     * ---------------------------------------------------------------------------
     * MEDIA
    */

    /* Border */
    --media-border-width: {{ settings.media_border_thickness }}px;
    --media-border-opacity: {{ settings.media_border_opacity | divided_by: 100.0 }};
    --media-radius: {{ settings.media_radius }}px;

    /* Shadow */
    --media-shadow-horizontal-offset: {{ settings.media_shadow_horizontal_offset }}px;
    --media-shadow-vertical-offset: {{ settings.media_shadow_vertical_offset }}px;
    --media-shadow-blur-radius: {{ settings.media_shadow_blur }}px;


    /**
     * ---------------------------------------------------------------------------
     * DROPDOWNS AND POP-UPS
    */

    /* Border */
    --popup-border-width: {{ settings.popup_border_thickness }}px;
    --popup-border-opacity: {{ settings.popup_border_opacity | divided_by: 100.0 }};
    --popup-corner-radius: {{ settings.popup_corner_radius }}px;

    /* Shadow */
    --popup-shadow-opacity: {{ settings.popup_shadow_opacity | divided_by: 100.0 }};
    --popup-shadow-horizontal-offset: {{ settings.popup_shadow_horizontal_offset }}px;
    --popup-shadow-vertical-offset: {{ settings.popup_shadow_vertical_offset }}px;
    --popup-shadow-blur-radius: {{ settings.popup_shadow_blur }}px;


    /**
     * ---------------------------------------------------------------------------
     * DRAWERS
    */

    /* Border */
    --drawer-border-width: {{ settings.drawer_border_thickness }}px;
    --drawer-border-opacity: {{ settings.drawer_border_opacity | divided_by: 100.0 }};

    /* Shadow */
    --drawer-shadow-opacity: {{ settings.drawer_shadow_opacity | divided_by: 100.0 }};
    --drawer-shadow-horizontal-offset: {{ settings.drawer_shadow_horizontal_offset }}px;
    --drawer-shadow-vertical-offset: {{ settings.drawer_shadow_vertical_offset }}px;
    --drawer-shadow-blur-radius: {{ settings.drawer_shadow_blur }}px;


    /**
     * ---------------------------------------------------------------------------
     * BADGES
    */
    --badge-corner-radius: {{ settings.badge_corner_radius | divided_by: 10.0 }}rem;

    /* Distance */
    --badge-vertical-distance: {{ settings.badge_vertical_distance | divided_by: 10.0 }}rem;
    --badge-horizontal-distance: {{ settings.badge_horizontal_distance | divided_by: 10.0 }}rem;

    /* Thickness */
    --badge-horizontal-thickness: {{ settings.badge_horizontal_thickness | divided_by: 10.0 }}rem;
    --badge-vertical-thickness: {{ settings.badge_vertical_thickness | divided_by: 10.0 }}rem;

    /* FLEX SECTION */

    /* Page Layout */
      --sidebar-width: 25rem;
      --narrow-content-width: 36rem;
      --normal-content-width: 42rem;
      --wide-content-width: 46rem;
      --narrow-page-width: 90rem;
      --normal-page-width: 120rem;
      --wide-page-width: 150rem;

    /* Section Heights */
      --section-height-small: 15rem;
      --section-height-medium: 25rem;
      --section-height-large: 35rem;

      @media screen and (min-width: 40em) {
        --section-height-small: 40svh;
        --section-height-medium: 55svh;
        --section-height-large: 70svh;
      }

      @media screen and (min-width: 60em) {
        --section-height-small: 50svh;
        --section-height-medium: 65svh;
        --section-height-large: 80svh;
      }

    /* Font families */
    --font-body--family: {{ settings.type_body_font.family }}, {{ settings.type_body_font.fallback_families }};
    --font-body--style: {{ settings.type_body_font.style }};
    --font-body--weight: {{ settings.type_body_font.weight }};
    --font-heading--family: {{ settings.type_header_font.family }}, {{ settings.type_header_font.fallback_families }};
    --font-heading--style: {{ settings.type_header_font.style }};
    --font-heading--weight: {{ settings.type_header_font.weight }};

    /* Margin sizes */
    --font-h1--spacing: 0.25em;
    --font-h2--spacing: 0.25em;
    --font-h3--spacing: 0.25em;
    --font-h4--spacing: 0.25em;
    --font-h5--spacing: 0.25em;
    --font-h6--spacing: 0.25em;
    --font-paragraph--spacing: 0.5em;

    /* Heading colors */
    --font-h1--color: var(--color-foreground-heading);
    --font-h2--color: var(--color-foreground-heading);
    --font-h3--color: var(--color-foreground-heading);
    --font-h4--color: var(--color-foreground-heading);
    --font-h5--color: var(--color-foreground-heading);
    --font-h6--color: var(--color-foreground-heading);

    /** Z-Index / Layering */
      --layer-section-background: -2;
      --layer-lowest: -1;
      --layer-base: 0;
      --layer-flat: 1;
      --layer-raised: 2;
      --layer-heightened: 4;
      --layer-sticky: 8;
      --layer-window-overlay: 10;
      --layer-header-menu: 12;
      --layer-overlay: 16;
      --layer-menu-drawer: 18;
      --layer-temporary: 20;

    /* Max-width / Measure */
      --max-width--body-normal: 50ch;
      --max-width--body-narrow: 35ch;

      --max-width--heading-normal: 50ch;
      --max-width--heading-narrow: 30ch;

      --max-width--display-normal: 20ch;
      --max-width--display-narrow: 15ch;
      --max-width--display-tight: 5ch;

    /* Letter-spacing / Tracking */
      --letter-spacing--display-tight: -0.03em;
      --letter-spacing--display-normal: 0;
      --letter-spacing--display-loose: 0.03em;

      --letter-spacing--heading-tight: -0.03em;
      --letter-spacing--heading-normal: 0;
      --letter-spacing--heading-loose: 0.03em;

      --letter-spacing--body-tight: -0.03em;
      --letter-spacing--body-normal: 0;
      --letter-spacing--body-loose: 0.03em;

    /* Line height / Leading */
      --line-height: 1;

      --line-height--display-tight: 1;
      --line-height--display-normal: 1.1;
      --line-height--display-loose: 1.2;

      --line-height--heading-tight: 1.15;
      --line-height--heading-normal: 1.25;
      --line-height--heading-loose: 1.35;

      --line-height--body-tight: 1.2;
      --line-height--body-normal: 1.4;
      --line-height--body-loose: 1.6;

    /* Typography presets */
    {% liquid
      assign font_sizes = "paragraph, h1, h2, h3, h4, h5, h6" | split: ", "
      assign fluid_size_cutoff = 48
      assign absolute_font_size_min = 10

      comment
        Build an array of font sizes and sort it
      endcomment
      assign font_size_values = ''
      for font_size in font_sizes
        assign size_setting = 'type_size_' | append: font_size
        assign size_setting_value = settings[size_setting] | times: 1

        comment
          If the font size is less than 100, pad it with a 0
          This is because we end up with an array of strings, which | sort filter can't order "correctly")
        endcomment
        if size_setting_value < 100
          assign size_setting_value = '0' | append: size_setting_value
        endif

        assign font_size_values = font_size_values | append: size_setting_value | append: ','
      endfor

      assign font_size_values = font_size_values | split: ',' | uniq | sort_natural

      comment
        For each font size S, find the next smaller size S-1, and determine the minimum for S
        The calculation depends on the size of S-1 (over or under the cutoff)
      endcomment
      for font_size in font_sizes
        assign size_setting = 'type_size_' | append: font_size
        assign font_size_value = settings[size_setting] | times: 1
        assign font_size_string = ''
        assign font_size_string = font_size_string | append: font_size_value
        assign index = font_size_values | find_index: font_size_string


        if font_size_value >= fluid_size_cutoff

          comment
            Calculate the minimum size for each font size
          endcomment
          assign fluid_font_size_min = font_size_value

          if index == 0
            assign fluid_font_size_min = absolute_font_size_min
          else
            assign next_font_size_index = index | minus: 1
            assign next_font_size_value = font_size_values[next_font_size_index]
            assign next_font_size_value_number = next_font_size_value | times: 1

            comment
              If the next bigger font size under the fluid cutoff, we use keep a 4px buffer
            endcomment
            if next_font_size_value_number < fluid_size_cutoff
              assign fluid_font_size_min = next_font_size_value_number | plus: 4
              if font_size_value < fluid_font_size_min
                assign fluid_font_size_min = font_size_value
              endif
            else
              assign fluid_font_size_min = next_font_size_value | times: 1
            endif
          endif

          comment
            Calculate the fluid and maximum size for each font size
          endcomment
          assign fluid_size_min_rem = fluid_font_size_min | divided_by: 10.0
          assign fluid_size = font_size_value | times: 0.1
          assign fluid_size_max_rem = font_size_value | divided_by: 10.0

          echo '--font-size--' | append: font_size | append: ': clamp(' | append: fluid_size_min_rem | append: 'rem, ' | append: fluid_size | append: 'vw, ' | append: fluid_size_max_rem | append: 'rem);'
        else
          assign fluid_size_rem = font_size_value | divided_by: 10.0
          echo '--font-size--' | append: font_size | append: ': ' | append: fluid_size_rem | append: 'rem;'
        endif
      endfor

      assign type_presets = "paragraph, h1, h2, h3, h4, h5, h6" | split: ", "

      for preset_name in type_presets
        assign preset_size = '--font-size--' | append: preset_name
        assign preset_line_height = 'type_line_height_' | append: preset_name

        if preset_name == 'paragraph'
          assign preset_font = '--font-body--family'
          assign preset_style = '--font-body--style'
          assign preset_weight = '400'
          assign preset_case = '--font-body--case'
          assign preset_letter_spacing = 'body-normal'

          echo '--font-' | append: preset_name | append: '--weight: ' | append: preset_weight | append: ';'
          echo '--font-' | append: preset_name | append: '--letter-spacing: var(--letter-spacing--' | append: preset_letter_spacing | append: ');'
          echo '--font-' | append: preset_name | append: '--family: var(' | append: preset_font | append: ');'
          echo '--font-' | append: preset_name | append: '--style: var(' | append: preset_style | append: ');'
          echo '--font-' | append: preset_name | append: '--case: ' | append: settings[preset_case] | append: ';'
          echo '--font-' | append: preset_name | append: '--line-height: var(--line-height--' | append: settings[preset_line_height] | append: ');'
        endif

        echo '--font-' | append: preset_name | append: '--size: var(' | append: preset_size | append: ');'
      endfor
    %}

    /* Hardcoded font sizes */
      --font-size--2xs: 0.625rem;
      --font-size--xs: 0.8125rem;
      --font-size--sm: 1.4rem;
      --font-size--md: 1rem;
      --font-size--lg: 1.125rem;
      --font-size--xl: 1.25rem;
      --font-size--2xl: 1.5rem;
      --font-size--3xl: 2rem;
      --font-size--4xl: 2.5rem;
      --font-size--5xl: 3rem;
      --font-size--6xl: 3.5rem;

    --spacing-scale-sm: 0.6;
    --spacing-scale-md: 0.7;
    --spacing-scale-default: 1.0;

    /* Borders */
      --border-color: rgba(from var(--color-border, var(--color-foreground)) r g b / 0.55);
      --border-width-sm: 1px;
      --border-width-md: 2px;
      --border-width-lg: 5px;
  }

  {% if settings.layout_width == 'page-width' %}
    .page-width,
    .customized-width {
      --padding-width: var(--width, 0rem);
      --padding-grid-scroll: var(--scroll, 0rem);
      max-width: var(--page-width);
      padding-left: var(--padding-full-width, 1rem);
      padding-right: var(--padding-full-width, 1rem);
    }

    .full-width:not(.p-banner) {
      padding-left: var(--padding-full-width, 1rem);
      padding-right: var(--padding-full-width, 1rem);
    }

    @media only screen and (min-width: 750px) {
      .page-width,
      .customized-width {
        --width: -3rem;
        --padding-full-width: 5rem;
      }

      .full-width:not(.p-banner) {
        --padding-full-width: 5rem;
      }
    }

    @media only screen and (min-width: 1200px) {
      .page-width,
      .customized-width {
        max-width: calc(var(--page-width) + 9rem);
        --width: 3rem;
        --padding-full-width: 6rem;
      }

      .full-width:not(.p-banner) {
        --padding-full-width: 6rem;
      }
    }

    @media only screen and (min-width: 1600px) {
      .full-width:not(.p-banner) {
        --padding-full-width: {{ settings.padding_full_width }}px;
      }
    }
  {% else %}
    .page-width {
      --page-width: calc(100% + 9rem);
      --padding-width: var(--width, 0rem);
      --padding-grid-scroll: var(--scroll, -0.1rem);
      max-width: unset;
      padding-left: var(--padding-full-width, 1rem);
      padding-right: var(--padding-full-width, 1rem);
    }

    .customized-width {
      --width: 0rem;
      --padding-grid-scroll: -0.1rem;
      max-width: var(--page-width);
      padding-left: var(--padding-full-width, 1rem);
      padding-right: var(--padding-full-width, 1rem);
    }

    @media only screen and (min-width: 750px) {
      .page-width,
      .customized-width {
        --width: 0rem;
        --padding-full-width: 5rem;
        --padding-grid-scroll: 1rem;
      }
    }

    @media only screen and (min-width: 1200px) {
      .page-width,
      .customized-width {
        --width: 6rem;
        --padding-full-width: 6rem;
      }

      .customized-width {
        max-width: calc(var(--page-width) + 9rem);
      }
    }

    @media only screen and (min-width: 1600px) {
      .page-width,
      .customized-width {
        --width: {{ settings.padding_full_width }}px;
        --padding-full-width: {{ settings.padding_full_width }}px;
      }

      .page-width {
        --padding-width: {% if settings.padding_full_width < 60 %}max(11rem, var(--width, 0rem)){% else %}var(--width, 0rem){% endif %};
      }

      .customized-width {
        max-width: calc(var(--page-width) + (var(--padding-full-width) * 2));
      }

      .full-width {
        --padding-full-width: {{ settings.padding_full_width }}px;
      }
    }
  {% endif %}

  .heading-size {
    --step-size-xxs: calc(var(--font-heading-step-mobile) * 3);
    --step-size-xs: calc(var(--font-heading-step-mobile) * 2);
    --step-size-s: var(--font-heading-step-mobile);
    --step-size-l: var(--font-heading-step);
    --step-size-xl: calc(var(--font-heading-step) * 2);
    --step-size-xxl: calc(var(--font-heading-step) * 3);
    --step-size-xxxl: calc(var(--font-heading-step) * 4);
  }

  .text-size {
    --body-step-size-xxs: calc(var(--font-body-step-mobile) * 3);
    --body-step-size-xs: calc(var(--font-body-step-mobile) * 2);
    --body-step-size-s: var(--font-body-step-mobile);
    --body-step-size-l: var(--font-body-step);
    --body-step-size-xl: calc(var(--font-body-step) * 2);
    --body-step-size-xxl: calc(var(--font-body-step) * 3);
    --body-step-size-xxxl: calc(var(--font-body-step) * 4);
  }

  @media only screen and (min-width: 750px) {
    :root {
      --font-body-step-desktop: var(--font-body-step-desktop-xs);
      --font-body-step-tablet: var(--font-body-step-tablet-xs);
      --font-body-step-mobile: var(--font-body-step-mobile-xs);
      --font-body-size: var(--font-body-tablet);

      --font-heading-step-desktop: var(--font-heading-step-desktop-xs);
      --font-heading-step-tablet: var(--font-heading-step-tablet-xs);
      --font-heading-step-mobile: var(--font-heading-step-mobile-xs);
      --font-heading-size: var(--font-heading-tablet);
    }

    .heading-size {
      --step-size-xxs: calc(var(--font-heading-step-tablet) * 3);
      --step-size-xs: calc(var(--font-heading-step-tablet) * 2);
      --step-size-s: var(--font-heading-step-tablet);
    }

    .text-size {
      --body-step-size-xxs: calc(var(--font-body-step-tablet) * 3);
      --body-step-size-xs: calc(var(--font-body-step-tablet) * 2);
      --body-step-size-s: var(--font-body-step-tablet);
    }  
  }

  @media only screen and (min-width: 1200px) {
    :root {
      --font-body-step-desktop: var(--font-body-step-desktop-xxs);
      --font-body-step-tablet: var(--font-body-step-tablet-xxs);
      --font-body-step-mobile: var(--font-body-step-mobile-xxs);
      --font-body-size: var(--font-body-desktop);
      --price-font-size: calc(var(--font-body-desktop) + 0.8rem);

      --font-heading-step-desktop: var(--font-heading-step-desktop-xxs);
      --font-heading-step-tablet: var(--font-heading-step-tablet-xxs);
      --font-heading-step-mobile: var(--font-heading-step-mobile-xxs);
      --font-heading-size: var(--font-heading-desktop);
    }

    .heading-size {
      --step-size-xxs: calc(var(--font-heading-step-desktop) * 3);
      --step-size-xs: calc(var(--font-heading-step-desktop) * 2);
      --step-size-s: var(--font-heading-step-desktop);
    }

    .text-size {
      --body-step-size-xxs: calc(var(--font-body-step-desktop) * 3);
      --body-step-size-xs: calc(var(--font-body-step-desktop) * 2);
      --body-step-size-s: var(--font-body-step-desktop);
    } 
  }
{% endstyle %}